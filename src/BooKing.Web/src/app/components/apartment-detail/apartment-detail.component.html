<div class="d-flex justify-content-between pb-2 m-3">
  <div class="btn-toolbar m-2 mb-md-0">
    <button class="btn btn-sm btn-outline-dark btn-ico-color-main-color" (click)="goHome()">
      <i class="bi bi-house-door-fill"></i>
    </button>
  </div>
  <div class="btn-toolbar m-2 mb-md-0">
    <button class="btn btn-sm btn-outline-dark btn-ico-color-main-color" (click)="goProfile()">
      <i class="bi bi-person-circle"></i>
    </button>
  </div>
</div>
<div class="container mt-4">
  <div class="row">
    <div class="col-12 mb-4">
      <div class="row">
        <div class="col-12">
          <img [src]="apartment.imagePath" class="img-fluid w-100 rounded">
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12 col-md-6 p-3">
      <div class="card mt-0">
        <div class="card-body" style="height: 400px;">
          <h5 class="card-title">{{ apartment.name }}</h5>
          <p class="text-muted">{{ apartment.address.city }}, {{ apartment.address.state }}, {{ apartment.address.country }}</p>
      <p>{{ apartment.description }}</p>
      <p class="border-top pt-3"><strong>Price:</strong> ${{ apartment.price }} per night</p>
      <p class="border-top pt-3"><strong>Cleaning Fee:</strong> ${{ apartment.cleaningFee }}</p>
      <p class="border-top pt-3"><strong>Amenities:</strong> {{ apartment.amenitiesDescription }}</p>
      <p class="border-top pt-3"><strong>Address:</strong> {{ apartment.address.street }}, {{ apartment.address.number }}, {{ apartment.address.zipCode }}</p>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-6 p-3">
      <div class="card mt-0">
        <div class="card-body" style="height: 400px;">
          <h5 class="card-title">${{ apartment.price }} <small class="text-muted">per night</small></h5>
          <div class="d-flex justify-content-between mb-2">
            <input type="date" class="form-control me-2" [(ngModel)]="checkInDate" (change)="calculateTotal()" placeholder="Check-in">
            <input type="date" class="form-control" [(ngModel)]="checkOutDate" (change)="calculateTotal()" placeholder="Check-out">
          </div>
          <button class="btn btn-primary w-100 btn-regular-color-main-color" (click)="reserve()" [disabled]="loading">
            <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            <span *ngIf="!loading">Reserve</span>
            <span *ngIf="loading" class="sr-only"> Loading...</span>
          </button>
          <p class="text-muted mt-2 text-center">You won't be charged yet</p>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">${{ apartment.price }} x {{ numberOfNights }} night(s)</li>
            <li class="list-group-item">Cleaning Fee: ${{ apartment.cleaningFee }}</li>
            <li class="list-group-item"><strong>Total: ${{ totalPrice }}</strong></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
